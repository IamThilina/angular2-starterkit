<simple-notifications></simple-notifications>
<div class="row sumary-row">
    <div class="col-lg-2 col-md-2"></div>
    <div class="col-lg-8 col-md-8">
        <table class="table table-bordered">
            <tr>
                <td>Total Incoming Calls This Week</td>
                <td><b>{{summary.incomingThisWeek}} h</b></td>
                <td>Total OutGoing This Week</td>
                <td><b>{{summary.outgoingThisWeek}} h</b></td>
            </tr>
            <tr>
                <td>Total Incoming Calls This Month</td>
                <td><b>{{summary.incomingThisMonth}} h</b></td>
                <td>Total OutGoing This Month</td>
                <td><b>{{summary.outgoingThisMonth}} h</b></td>
            </tr>
            <tr>
                <td>Total Incoming Calls</td>
                <td><b>{{summary.incomingFull}} h</b></td>
                <td>Total OutGoing</td>
                <td><b>{{summary.outgoingFull}} h</b></td>
            </tr>
        </table>
    </div>
</div>
<div class="row button-row">
    <div class="col-lg 4 col-md-4"></div>
    <div class="col-lg-2 col-md-2">
        <button class="btn btn-success btn-lg" aria-label="Left Align" type="submit" (click)="modalIncoming.open()">
            <span class="glyphicon glyphicon-download" aria-hidden="true"></span>
            Incomming
        </button>
    </div>
    <div class="col-lg-2 col-md-2">
        <button class="btn btn-success btn-lg" aria-label="Left Align" type="submit">
            <span class="glyphicon glyphicon-upload" aria-hidden="true"></span>
            Outgoing
        </button>
    </div>
</div>
<div class="row button-row">
    <div class="col-lg-5 col-md-5"></div>
    <div class="col-lg-2 col-md-2">
        <button class="btn btn-success btn-lg" aria-label="Left Align" type="submit" (click)="modelAddNew.open()">
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
            Record New Call
        </button>
    </div>
</div>

<modal #modalIncoming>
    <modal-header>
        <h4 class="modal-title">Incoming Call</h4>
    </modal-header>
    <modal-body>
        <div class="row time-row">
            <div class="col-lg-4"></div>
            <div class="col-lg-4">
                <h1>{{timer_time}}</h1>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-3"></div>
            <div class="col-lg-3">
                <button class= "{{play_btn_class}}" aria-label="Left Align" type="submit" (click)="playButtonClick()">
                    <span class="{{play_btn_icon}}" aria-hidden="true"></span>
                    {{play_btn_text}}
                </button>
            </div>
            <div class="col-lg-3">
                <button class="btn btn-danger" aria-label="Left Align" type="submit" (click)="modalIncoming.close();stopButtonClick()">
                    <span class="glyphicon glyphicon-stop" aria-hidden="true"></span>
                    Stop
                </button>
            </div>
        </div>
    </modal-body>
</modal>
<modal #modelAddNew>
    <form (ngSubmit)="onCallFormSubmit()" #newCallForm="ngForm">
        <modal-header [show-close]="true">
            <h4 class="modal-title">Add new call</h4>
        </modal-header>
        <modal-body>
            <div class="form-group">
                <label for="callStartTime"> Start Time</label>
                <input type="datetime-local" class="form-control" id="callStartTime" name="callStartTime" required [(ngModel)]="newCallModel.start_time">
            </div>
            <div class="form-group">
                <label for="callEndTime">End Time</label>
                <input type="datetime-local" class="form-control" id="callEndTime" name="callEndTime" required [(ngModel)]="newCallModel.end_time">
            </div>
            <div class="form-group">
                <label for="callTime">Call Time</label>
                <input type="text" class="form-control" required [(ngModel)]="newCallModel.time_duration" name="callTime" id="callTime" placeholder="mm:ss">
            </div>
            <div class="form-group">
                <label for="description">Description</label>
                <textarea type="text" class="form-control" required [(ngModel)]="newCallModel.description" name="description" id="description"></textarea>
            </div>
            <div class="form-group">
                <label for="callType">Call Type</label>
                <select class="form-control" name="callType" id="callType" required [(ngModel)]="newCallModel.type">
                    <option>Incoming</option>
                    <option>Outgoing</option>
                </select>
            </div>
        </modal-body>
        <modal-footer>
            <button type="button" class="btn btn-default" data-dismiss="modal" (click)="validationModal.dismiss()">Cancel</button>
            <button type="submit" class="btn btn-primary" [disabled]="!newCallForm.form.valid" (click)="modelAddNew.close()">Save</button>
        </modal-footer>
    </form>
</modal>